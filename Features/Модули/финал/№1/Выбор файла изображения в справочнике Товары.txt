#language: ru

@tree

Функционал: Выбор файла изображения в справочнике Товары

Как тестировщик я хочу
проверить возможность добавления файла изображения товару
чтобы проверить доработку   

Контекст:
	Дано Я запускаю сценарий открытия TestClient или подключаю уже существующий

Сценарий: Подготовка данных
	// Справочник.Товары
	И я проверяю или создаю для справочника "Товары" объекты:
		| 'Ссылка'                                                            | 'ПометкаУдаления' | 'Родитель' | 'ЭтоГруппа' | 'Код' | 'Наименование' | 'Артикул' | 'Поставщик' | 'ФайлКартинки' | 'Вид'                    | 'Штрихкод' | 'Описание' | 'ВТ_Вес' |
		| 'e1cib/data/Справочник.Товары?ref=a5e42811a87165a511efb19e4b129b0b' | 'False'           | ''         | 'False'     | ''    | 'Товар'        | ''        | ''          | ''             | 'Enum.ВидыТоваров.Товар' | ''         | ''         |          |

Сценарий: Выбор файла изображения в справочнике Товары
*Выбор файла изображения
	И Я открываю навигационную ссылку "e1cib/data/Справочник.Товары?ref=a5e42811a87165a511efb19e4b129b0b"
	И я нажимаю кнопку выбора у поля с именем "ФайлКартинки"
	Когда открылось окно 'Файлы'
	И я нажимаю на кнопку с именем 'ФормаСоздать'
	И в поле с именем 'Наименование' я ввожу текст 'Изображение'
	И я выбираю файл 'C:\TestQA\Features\Internal\Закупки\Изображение.png'
	И я нажимаю на кнопку с именем 'ВыбратьФайлСДискаИЗаписать'
	Тогда открылось окно "Изображение (Файл)"
	И я нажимаю на кнопку с именем 'ФормаЗаписатьИЗакрыть'
	И я жду закрытия окна "Изображение (Файл)" в течение 20 секунд
	Тогда открылось окно 'Файлы'
	И я нажимаю на кнопку с именем 'ФормаВыбрать'
	Тогда открылось окно 'Товар (Товар) *'
	И я нажимаю на кнопку с именем 'ФормаЗаписатьИЗакрыть'
	И я жду закрытия окна 'Товар (Товар) *' в течение 20 секунд
*Проверка добавления файла		
	И Я открываю навигационную ссылку "e1cib/data/Справочник.Товары?ref=a5e42811a87165a511efb19e4b129b0b"
	И элемент формы с именем "ФайлКартинки" стал равен 'Изображение'
	И я закрываю все окна клиентского приложения
*Удаление файлов
	И Я открываю навигационную ссылку "e1cib/list/Справочник.ХранимыеФайлы"
	Когда открылось окно 'Файлы'
	И я нажимаю на кнопку с именем 'ФормаНайти'
	Тогда открылось окно 'Найти'
	И в поле с именем 'Pattern' я ввожу текст 'Изображение'
	И я нажимаю на кнопку с именем 'Find'
	Тогда открылось окно 'Файлы'
	И я нажимаю на кнопку с именем 'ФормаУдалить'
	Тогда открылось окно '1С:Предприятие'
	И я нажимаю на кнопку с именем 'Button0'
	И я закрываю все окна клиентского приложения